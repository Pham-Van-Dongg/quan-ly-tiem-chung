<div class="container">
  <div class="card shadow-sm" style="min-height: 89vh">
    <!-- Header -->
    <div
      class="card-header bg-success text-white d-flex justify-content-between align-items-center"
    >
      <h5 class="mb-0">ðŸ’‰ Lá»‹ch TiÃªm Cá»§a TÃ´i</h5>
    </div>

    <!-- Body -->
    <div class="card-body d-flex flex-column">
      <!-- Hiá»ƒn thá»‹ lá»—i -->
      <div *ngIf="errorMessage" class="alert alert-danger mb-3">
        {{ errorMessage }}
      </div>

      <!-- Báº£ng danh sÃ¡ch -->
      <div class="table-responsive flex-grow-1">
        <!-- TÃ¬m kiáº¿m -->
        <div class="mb-3">
          <input
            type="text"
            class="form-control"
            [(ngModel)]="tuKhoaTimKiem"
            placeholder="TÃ¬m kiáº¿m theo Ä‘á»‹a Ä‘iá»ƒm"
            style="width: 350px"
          />
        </div>
        <table
          class="table table-bordered table-hover align-middle"
          *ngIf="danhSachLichTiemCuaToi.length > 0; else noData"
        >
          <thead class="table-light">
            <tr>
              <th scope="col">STT</th>
              <th scope="col">MÃ£ Lá»‹ch</th>
              <th scope="col">MÃ£ Váº¯c-xin</th>
              <th scope="col">MÅ©i Thá»©</th>
              <th scope="col">NgÃ y TiÃªm</th>
              <th scope="col">Tráº¡ng ThÃ¡i</th>
            </tr>
          </thead>
          <tbody>
            <tr
              *ngFor="
                let lt of danhSachLichTiemCuaToi
                  | lichhsudangkyFilter : tuKhoaTimKiem
                  | paginate : { itemsPerPage: 9, currentPage: page };
                let i = index
              "
            >
              <td>{{ i + 1 }}</td>
              <td>{{ lt.maLichTiem }}</td>
              <td>
                {{ lt.maVacNavigation?.tenVac || "KhÃ´ng xÃ¡c Ä‘á»‹nh" }}
              </td>

              <td>{{ lt.muiThu }}</td>
              <td>
                <span *ngIf="lt.ngayTiem">
                  {{ lt.ngayTiem.day }}/{{ lt.ngayTiem.month }}/{{
                    lt.ngayTiem.year
                  }}
                </span>
                <span *ngIf="!lt.ngayTiem" class="text-muted"
                  >ChÆ°a xÃ¡c Ä‘á»‹nh</span
                >
              </td>
              <td *ngIf="lt.ngayTiem; else chuaXacDinh">
                {{
                  getTrangThai(
                    lt.ngayTiem.year +
                      "-" +
                      lt.ngayTiem.month +
                      "-" +
                      lt.ngayTiem.day
                  )
                }}
              </td>
              <ng-template #chuaXacDinh>
                <td class="text-muted">ChÆ°a xÃ¡c Ä‘á»‹nh</td>
              </ng-template>
            </tr>
          </tbody>
        </table>

        <ng-template #noData>
          <div class="alert alert-info text-center mt-3">
            KhÃ´ng cÃ³ lá»‹ch tiÃªm nÃ o.
          </div>
        </ng-template>
      </div>
    </div>
    <pagination-controls (pageChange)="page = $event"></pagination-controls>
  </div>
</div>
